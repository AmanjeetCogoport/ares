/*
  * This file was generated by the Gradle 'init' task.
  *
  * This generated file contains a sample Kotlin library project to get you started.
  * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
  * User Manual available at https://docs.gradle.org/7.4.2/userguide/building_java_projects.html
  */

plugins {
    id("library-conventions")

    id("maven-publish")
}

jar {
    archivesBaseName = 'ares-model'
}

group = "com.cogoport.ares"
version = "1.5.5"

repositories {
    mavenCentral()
    maven {
        url = uri("https://maven.pkg.github.com/cogoport/brahma")
        credentials {
            username = project.findProperty("gpr.user") ?: System.getenv("GITHUB_USERNAME")
            password = project.findProperty("gpr.key") ?: System.getenv("GITHUB_TOKEN")
        }
    }

    maven {
        url = uri("https://maven.pkg.github.com/cogoport/heimdall")
        credentials {
            username = project.findProperty("gpr.user") ?: System.getenv("GITHUB_USERNAME")
            password = project.findProperty("gpr.key") ?: System.getenv("GITHUB_TOKEN")
        }
    }
}

dependencies {
    implementation("io.micronaut:micronaut-runtime")
    implementation("io.micronaut.data:micronaut-data-model:3.3.0")
    implementation("com.cogoport.brahma.excel:engine:0.1.6")

    //heimdall dependencies
    implementation("com.cogoport.heimdall:heimdall-model:1.0.6")

    implementation("jakarta.persistence:jakarta.persistence-api:2.2.3")
}
 publishing {
     repositories {
         maven {
             name = "GitHubPackages"
             url = uri("https://maven.pkg.github.com/cogoport/ares")
             credentials {
                 username = project.findProperty("gpr.user") ?: System.getenv("GITHUB_USERNAME")
                 password = project.findProperty("gpr.key") ?: System.getenv("GITHUB_TOKEN")
             }
         }
     }
     publications {
         gpr(MavenPublication) {
             artifactId 'ares-model'
             from(components.java)
         }
     }
 }
